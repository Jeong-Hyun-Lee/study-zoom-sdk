{"version":3,"file":"static/js/43.a49a0fa7.chunk.js","mappings":"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","sources":["pages/meetings/MeetingPage.js"],"sourcesContent":["import { memo, useEffect } from 'react'\nimport { useLocation, useParams } from 'react-router'\nimport { ZoomMtg } from '@zoomus/websdk'\n\nZoomMtg.setZoomJSLib('https://source.zoom.us/2.13.0/lib', '/av')\n\nZoomMtg.preLoadWasm()\nZoomMtg.prepareWebSDK()\nZoomMtg.i18n.load('en-US')\nZoomMtg.i18n.reload('en-US')\nconst LEAVE_URL = 'http://localhost:3000'\n\nconst MeetingPage = () => {\n  const params = useLocation()\n\n  const generateSignature = ({\n    meetingNumber,\n    role,\n    sdkKey = process.env.REACT_APP_SDK_KEY,\n    sdkSecret = process.env.REACT_APP_SDK_SECRET,\n  }) => {\n    return new Promise((resolve, reject) => {\n      ZoomMtg.generateSDKSignature({\n        meetingNumber,\n        role,\n        sdkKey,\n        sdkSecret,\n        success: (signature) => {\n          resolve(signature?.result)\n        },\n        error: (error) => reject(error),\n      })\n    })\n  }\n\n  const initMeeting = ({\n    meetingNumber,\n    passWord,\n    userName,\n    userEmail,\n    sdkKey = process.env.REACT_APP_SDK_KEY,\n    signature,\n  }) => {\n    document.getElementById('zmmtg-root').style.display = 'block'\n    ZoomMtg.init({\n      leaveUrl: LEAVE_URL,\n      success: (success) => {\n        console.log(success, signature)\n        ZoomMtg.join({\n          signature: signature,\n          sdkKey: sdkKey,\n          meetingNumber: meetingNumber,\n          passWord: passWord,\n          userName: userName,\n          userEmail: userEmail,\n          success: (success) => {\n            console.log(success)\n          },\n          error: (error) => {\n            console.log(error)\n          },\n        })\n      },\n      error: (error) => {\n        console.log(error)\n      },\n    })\n  }\n\n  const startMeeting = async () => {\n    try {\n      const signature = await generateSignature(params?.state?.config)\n      initMeeting({\n        ...params?.state?.config,\n        signature,\n      })\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  useEffect(() => {\n    console.log('MeetingPage params', params?.state?.config)\n    startMeeting()\n    return () => {\n      document.getElementById('zmmtg-root').style.display = 'none'\n    }\n  }, [])\n\n  return (\n    <>\n      <link\n        type=\"text/css\"\n        rel=\"stylesheet\"\n        href=\"https://source.zoom.us/2.13.0/css/bootstrap.css\"\n      />\n      <link\n        type=\"text/css\"\n        rel=\"stylesheet\"\n        href=\"https://source.zoom.us/2.13.0/css/react-select.css\"\n      />\n    </>\n  )\n}\n\nexport default memo(MeetingPage)\n"],"names":["ZoomMtg","setZoomJSLib","preLoadWasm","prepareWebSDK","i18n","load","reload","MeetingPage","params","useLocation","generateSignature","_ref","meetingNumber","role","_ref$sdkKey","sdkKey","process","_ref$sdkSecret","sdkSecret","Promise","resolve","reject","generateSDKSignature","success","signature","result","error","initMeeting","_ref2","passWord","userName","userEmail","_ref2$sdkKey","document","getElementById","style","display","init","leaveUrl","console","log","join","startMeeting","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_params$state","_params$state2","wrap","_context","prev","next","state","config","sent","_objectSpread","t0","stop","apply","arguments","useEffect","_params$state3","_jsxs","_Fragment","children","_jsx","type","rel","href","memo"],"sourceRoot":""}