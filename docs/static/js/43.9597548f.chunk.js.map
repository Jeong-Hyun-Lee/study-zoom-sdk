{"version":3,"file":"static/js/43.9597548f.chunk.js","mappings":"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","sources":["pages/meetings/MeetingPage.js"],"sourcesContent":["import { memo, useEffect } from 'react'\r\nimport { useLocation, useParams } from 'react-router'\r\nimport { ZoomMtg } from '@zoomus/websdk'\r\n\r\nZoomMtg.setZoomJSLib('https://source.zoom.us/2.13.0/lib', '/av')\r\n\r\nZoomMtg.preLoadWasm()\r\nZoomMtg.prepareWebSDK()\r\nZoomMtg.i18n.load('en-US')\r\nZoomMtg.i18n.reload('en-US')\r\nconst LEAVE_URL = 'http://localhost:3000'\r\n\r\nconst MeetingPage = () => {\r\n  const params = useLocation()\r\n\r\n  const generateSignature = ({\r\n    meetingNumber,\r\n    role,\r\n    sdkKey = process.env.REACT_APP_SDK_KEY,\r\n    sdkSecret = process.env.REACT_APP_SDK_SECRET,\r\n  }) => {\r\n    return new Promise((resolve, reject) => {\r\n      ZoomMtg.generateSDKSignature({\r\n        meetingNumber,\r\n        role,\r\n        sdkKey,\r\n        sdkSecret,\r\n        success: (signature) => {\r\n          resolve(signature?.result)\r\n        },\r\n        error: (error) => reject(error),\r\n      })\r\n    })\r\n  }\r\n\r\n  const initMeeting = ({\r\n    meetingNumber,\r\n    passWord,\r\n    userName,\r\n    userEmail,\r\n    sdkKey = process.env.REACT_APP_SDK_KEY,\r\n    signature,\r\n  }) => {\r\n    document.getElementById('zmmtg-root').style.display = 'block'\r\n    ZoomMtg.init({\r\n      leaveUrl: LEAVE_URL,\r\n      success: (success) => {\r\n        console.log(success, signature)\r\n        ZoomMtg.join({\r\n          signature: signature,\r\n          sdkKey: sdkKey,\r\n          meetingNumber: meetingNumber,\r\n          passWord: passWord,\r\n          userName: userName,\r\n          userEmail: userEmail,\r\n          success: (success) => {\r\n            console.log(success)\r\n          },\r\n          error: (error) => {\r\n            console.log(error)\r\n          },\r\n        })\r\n      },\r\n      error: (error) => {\r\n        console.log(error)\r\n      },\r\n    })\r\n  }\r\n\r\n  const startMeeting = async () => {\r\n    try {\r\n      const signature = await generateSignature(params?.state?.config)\r\n      initMeeting({\r\n        ...params?.state?.config,\r\n        signature,\r\n      })\r\n    } catch (e) {\r\n      console.error(e)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log('MeetingPage params', params?.state?.config)\r\n    startMeeting()\r\n    return () => {\r\n      document.getElementById('zmmtg-root').style.display = 'none'\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <link\r\n        type=\"text/css\"\r\n        rel=\"stylesheet\"\r\n        href=\"https://source.zoom.us/2.13.0/css/bootstrap.css\"\r\n      />\r\n      <link\r\n        type=\"text/css\"\r\n        rel=\"stylesheet\"\r\n        href=\"https://source.zoom.us/2.13.0/css/react-select.css\"\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default memo(MeetingPage)\r\n"],"names":["ZoomMtg","setZoomJSLib","preLoadWasm","prepareWebSDK","i18n","load","reload","MeetingPage","params","useLocation","generateSignature","_ref","meetingNumber","role","_ref$sdkKey","sdkKey","process","_ref$sdkSecret","sdkSecret","Promise","resolve","reject","generateSDKSignature","success","signature","result","error","initMeeting","_ref2","passWord","userName","userEmail","_ref2$sdkKey","document","getElementById","style","display","init","leaveUrl","console","log","join","startMeeting","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_params$state","_params$state2","wrap","_context","prev","next","state","config","sent","_objectSpread","t0","stop","apply","arguments","useEffect","_params$state3","_jsxs","_Fragment","children","_jsx","type","rel","href","memo"],"sourceRoot":""}